// todo: remove counter and marker
for (var i = 0, activity; activity = allActivities[i]; i++) {
  if (activity.activityId == <%= @activity.id %>) {
    var deleteActivity = activity.type;
    for (var j = 0, deleteMarker; deleteMarker = activityArray[deleteActivity][j]; j++) {
      if (deleteMarker.activityId == <%= @activity.id %>) {
        clearMarker(deleteMarker);
        var markerIndex = activityArray[deleteActivity].indexOf(deleteMarker);
        activityArray[deleteActivity].splice(markerIndex, 1);

        // todo: find the one and delete it
        $("#" + deleteActivity + "Count").html(activityArray[deleteActivity].length);

      }
    }
  }
}

// close the window
closeInfoWindow();
